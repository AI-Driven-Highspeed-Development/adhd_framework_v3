---
description: Update ADHD module requirements in init.yaml and PyPI requirements in requirements.txt
---

# Update Requirements

Update all module requirements across the ADHD project using import analysis.

## ⚠️ CRITICAL: DO NOT EDIT THIS FILE

User instructions like "include cores too" are **RUNTIME PARAMETERS**.  
They mean: apply the workflow to cores modules as well.  
They do NOT mean: modify this prompt file.

**NEVER edit this `.prompt.md` file based on user instructions.**

## Workflow (Using adhd_mcp)

### Step 1: Scan All Modules with Import Analysis
Call `list_modules(with_imports=True)` to get:
```python
{
  "modules": [{
    "name": "kanbn_mcp",
    "imports": {
      "adhd": ["utils.logger_util", "managers.config_manager"],
      "third_party": ["yaml", "mcp.server.fastmcp"]
    },
    "init_yaml_requirements": ["https://...Logger-Util.git"],
    "requirements_txt": ["PyYAML>=6.0", "mcp>=1.2.0"]
  }]
}
```

### Step 2: Analyze Gaps
For each module, compare:
- `imports.adhd` vs `init_yaml_requirements` → find missing ADHD deps
- `imports.third_party` vs `requirements_txt` → find missing PyPI packages

### Step 3: Map Import Names to Packages
Use your knowledge to map:
- `yaml` → `PyYAML`
- `mcp.server.fastmcp` → `mcp`
- `utils.logger_util` → `https://github.com/AI-Driven-Highspeed-Development/Logger-Util.git`

### Step 4: Edit Files Directly
Update `init.yaml` and `requirements.txt` for each module with missing deps.

---

## Task 1: Update ADHD Module Requirements (init.yaml)

**IMPORTANT**: Read `.github/instructions/modules.init.yaml.instructions.md` first.

- The `requirements` field lists ADHD module GitHub URLs (NOT PyPI packages).
- Format: `https://github.com/AI-Driven-Highspeed-Development/<module_name>.git`
- **Transitive dependencies are OK**: Only list DIRECT dependencies.
- Do NOT touch `cores/` unless explicitly requested.

## Task 2: Update PyPI Requirements (requirements.txt)

- `requirements.txt` is for PyPI packages ONLY (e.g., `PyYAML`, `requests`)
- Do NOT put ADHD module URLs in requirements.txt
- Also update the root `requirements.txt`

---

## Example Analysis

If a module has:
```python
imports.adhd = ["utils.logger_util", "cores.yaml_reading_core"]
init_yaml_requirements = []  # Empty!
```

Then add to `init.yaml`:
```yaml
requirements:
  - https://github.com/AI-Driven-Highspeed-Development/Logger-Util.git
  # Note: cores are internal, don't add them
```

---

## Scope Override

**Default behavior**: Skip all `cores/` modules.

**User Override**: When user says:
- "include cores" → Process cores modules too
- "update cores too" → Process cores modules too
- "with cores" → Process cores modules too

This is a **runtime decision**, NOT a file edit.
